# 延伸阅读-字符二进制存储

---

每个字符在计算机中也存储为数字，字符和数字的对应关系靠一张表来维护，java里这张表采用了Unicode编码表，每个字符采用两个字节来存储码表中的数字，即char类型，char类型不考虑符号位。

## 1. Unicode 编码表 ISO-8859-1 部分

| \ |00|01|02|03|04|05|06|07|08|09|0a|0b|0c|0d|0e|0f|
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
|0000|00|01|02|03|04|05|06|07|08|09|0a|0b|0c|0d|0e|0f|
|0010|10|11|12|13|14|15|16|17|18|19|1a|1b|1c|1d|1e|1f|
|0020|   | ! | " | # | $ | % | & | ' | ( | ) | * | + | , | - | . | / |
|0030| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | : | ; | < | = | > | ? |
|0040| @ | A | B | C | D | E | F | G | H | I | J | K | L | M | N | O |
|0050| P | Q | R | S | T | U | V | W | X | Y | Z | [ | \ | ] | ^ | _ |
|0060| ` | a | b | c | d | e | f | g | h | i | j | k | l | m | n | o |
|0070| p | q | r | s | t | u | v | w | x | y | z | { | \| | } | ~ |7f|
|0080|80|81|82|83|84|85|86|87|88|89|8a|8b|8c|8d|8e|8f|
|0090|90|91|92|93|94|95|96|97|98|99|9a|9b|9c|9d|9e|9f|
|00a0|a0| ¡ | ¢ | £ | ¤ | ¥ | ¦ | § | ¨ | © | ª | « | ¬ | ­ | ® | ¯ |
|00b0| ° | ± | ² | ³ | ´ | µ | ¶ | · | ¸ | ¹ | º | » | ¼ | ½ | ¾ | ¿ |
|00c0| À | Á | Â | Ã | Ä | Å | Æ | Ç | È | É | Ê | Ë | Ì | Í | Î | Ï |
|00d0| Ð | Ñ | Ò | Ó | Ô | Õ | Ö | × | Ø | Ù | Ú | Û | Ü | Ý | Þ | ß |
|00e0| à | á | â | ã | ä | å | æ | ç | è | é | ê | ë | ì | í | î | ï |
|00f0| ð | ñ | ò | ó | ô | õ | ö | ÷ | ø | ù | ú | û | ü | ý | þ | ÿ |

> 说明： 前128个字符称为ASCii字符，后128个字符称为ASCii扩展，其中一些不可见的字符由于无法显示，直接打印了其对应的数字


## 2. Unicode 编码表 汉字部分（前256）
| \ |00|01|02|03|04|05|06|07|08|09|0a|0b|0c|0d|0e|0f|
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
|4e00| 一 | 丁 | 丂 | 七 | 丄 | 丅 | 丆 | 万 | 丈 | 三 | 上 | 下 | 丌 | 不 | 与 | 丏 |
|4e10| 丐 | 丑 | 丒 | 专 | 且 | 丕 | 世 | 丗 | 丘 | 丙 | 业 | 丛 | 东 | 丝 | 丞 | 丟 |
|4e20| 丠 | 両 | 丢 | 丣 | 两 | 严 | 並 | 丧 | 丨 | 丩 | 个 | 丫 | 丬 | 中 | 丮 | 丯 |
|4e30| 丰 | 丱 | 串 | 丳 | 临 | 丵 | 丶 | 丷 | 丸 | 丹 | 为 | 主 | 丼 | 丽 | 举 | 丿 |
|4e40| 乀 | 乁 | 乂 | 乃 | 乄 | 久 | 乆 | 乇 | 么 | 义 | 乊 | 之 | 乌 | 乍 | 乎 | 乏 |
|4e50| 乐 | 乑 | 乒 | 乓 | 乔 | 乕 | 乖 | 乗 | 乘 | 乙 | 乚 | 乛 | 乜 | 九 | 乞 | 也 |
|4e60| 习 | 乡 | 乢 | 乣 | 乤 | 乥 | 书 | 乧 | 乨 | 乩 | 乪 | 乫 | 乬 | 乭 | 乮 | 乯 |
|4e70| 买 | 乱 | 乲 | 乳 | 乴 | 乵 | 乶 | 乷 | 乸 | 乹 | 乺 | 乻 | 乼 | 乽 | 乾 | 乿 |
|4e80| 亀 | 亁 | 亂 | 亃 | 亄 | 亅 | 了 | 亇 | 予 | 争 | 亊 | 事 | 二 | 亍 | 于 | 亏 |
|4e90| 亐 | 云 | 互 | 亓 | 五 | 井 | 亖 | 亗 | 亘 | 亙 | 亚 | 些 | 亜 | 亝 | 亞 | 亟 |
|4ea0| 亠 | 亡 | 亢 | 亣 | 交 | 亥 | 亦 | 产 | 亨 | 亩 | 亪 | 享 | 京 | 亭 | 亮 | 亯 |
|4eb0| 亰 | 亱 | 亲 | 亳 | 亴 | 亵 | 亶 | 亷 | 亸 | 亹 | 人 | 亻 | 亼 | 亽 | 亾 | 亿 |
|4ec0| 什 | 仁 | 仂 | 仃 | 仄 | 仅 | 仆 | 仇 | 仈 | 仉 | 今 | 介 | 仌 | 仍 | 从 | 仏 |
|4ed0| 仐 | 仑 | 仒 | 仓 | 仔 | 仕 | 他 | 仗 | 付 | 仙 | 仚 | 仛 | 仜 | 仝 | 仞 | 仟 |
|4ee0| 仠 | 仡 | 仢 | 代 | 令 | 以 | 仦 | 仧 | 仨 | 仩 | 仪 | 仫 | 们 | 仭 | 仮 | 仯 |
|4ef0| 仰 | 仱 | 仲 | 仳 | 仴 | 仵 | 件 | 价 | 仸 | 仹 | 仺 | 任 | 仼 | 份 | 仾 | 仿 |

> 说明：汉字的取值范围在 0x4E00 ~ 0x9FA5 之间


## 3. 编码问题

Java中的字符（Unicode编码）都是1个字符占用2个字节，但java通过网络IO，磁盘IO对外传输字符数据时，再用1个字符2个字节的方式就会有些不适用。

例如：英文字符只需要占用一个字节，如果用Unicode编码就会浪费一倍的字节，因此对外传输字符数据还有其它类型的字符编码，比如UTF-8，这种编码的字符集对英文字符只采用1个字节，中文字符会采用3个字节，它属于一种变长的字符编码。再比如GBK，这种编码的字符集也对英文采用1个字节，中文固定为2个字节。

当然GBK的缺点是只包含了中英文字符，其它语言的字符不支持。

***

> 附: 打印Unicode码表的小程序：

```
/**
 * 格式专门为Markdown Table设计！
 * 调用示例：
 * printTable("%2s", 0, 128);           -- 打印所有ASCii字符
 * printTable("%4s", 0x4e00, 0x4f00);   -- 打印前256个汉字
 * @param format 数字格式：例如%4s 表示，将数字视为4位，不足前置0补齐
 * @param begin Unicode 码表中的起始数字(包含)
 * @param end   Unicode 码表中的结束数字(不包含)
 */
public static void printTable(String format, int begin, int end) {
    StringBuilder sb = new StringBuilder(1024);
    // 拼接表头，低位数字
    StringJoiner sj = new StringJoiner("|", "|", "|");
    for (int i = -1; i < 16; i++) {
        if (i == -1) {
            sj.add(" \\ ");
        } else {
            sj.add(String.format("%2s", Integer.toHexString(i)).replaceAll("\\s", "0"));
        }
    }
    System.out.println(sj);

    // 表头分隔线
    sj = new StringJoiner("|", "|", "|");
    for (int i = -1; i < 16; i++) {
        sj.add("---");
    }
    System.out.println(sj);

    // 遍历
    for (int i = begin; i < end; i++) {
        String x;
        if (i < 32 || 127 <= i && i < 161) {
            x = String.format(format, Integer.toHexString(i)).replaceAll("\\s", "0");
        } else if (i == 0x7c) {
            x = " \\| ";
        } else {
            x = " " + Character.toString((char) i) + " ";
        }
        if (i % 16 == 0) {
            // 处理第一列
            sj = new StringJoiner("|", "|", "|");
            sj.add(String.format("%4s", Integer.toHexString(i)).replaceAll("\\s", "0"));
        } else if ((i + 1) % 16 == 0) {
            // 处理最后一列
            sj.add(x);
            sb.append(sj.toString()).append("\n");
        }
        sj.add(x);
    }
    System.out.println(sb);
}
```

---



